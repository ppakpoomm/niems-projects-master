ğŸ“ Master Plan: à¸ˆà¸²à¸ Excel VBA â†’ GitHub â†’ Modern Web Application
ğŸ“‹ Table of Contents
Data Tree Structure & Schema
Learning Roadmap (12 Weeks)
GitHub Migration Strategy
Technology Stack Decision Matrix
Implementation Phases
---
ğŸŒ³ Part 1: Complete Data Tree Structure & Schema
Conceptual Data Model
```
SMART4CUSM System
â”‚
â”œâ”€â”€ ğŸ“Š STRATEGIC ANALYSIS DOMAIN (Menu 1)
â”‚   â”‚
â”‚   â”œâ”€â”€ 1. Organization Context
â”‚   â”‚   â”œâ”€â”€ BasicInfo
â”‚   â”‚   â”‚   â”œâ”€â”€ org_id (PK)
â”‚   â”‚   â”‚   â”œâ”€â”€ org_name
â”‚   â”‚   â”‚   â”œâ”€â”€ org_type (enum: govt/private/ngo)
â”‚   â”‚   â”‚   â”œâ”€â”€ industry_sector
â”‚   â”‚   â”‚   â”œâ”€â”€ lifecycle_stage (enum: 1-5)
â”‚   â”‚   â”‚   â”œâ”€â”€ planning_period_start (date)
â”‚   â”‚   â”‚   â”œâ”€â”€ planning_period_end (date)
â”‚   â”‚   â”‚   â””â”€â”€ created_at
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ Vision
â”‚   â”‚   â”‚   â”œâ”€â”€ vision_id (PK)
â”‚   â”‚   â”‚   â”œâ”€â”€ org_id (FK)
â”‚   â”‚   â”‚   â”œâ”€â”€ vision_statement (text)
â”‚   â”‚   â”‚   â”œâ”€â”€ target_year (int)
â”‚   â”‚   â”‚   â””â”€â”€ version
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ Mission
â”‚   â”‚   â”‚   â”œâ”€â”€ mission_id (PK)
â”‚   â”‚   â”‚   â”œâ”€â”€ org_id (FK)
â”‚   â”‚   â”‚   â”œâ”€â”€ mission_statement (text)
â”‚   â”‚   â”‚   â””â”€â”€ version
â”‚   â”‚   â”‚
â”‚   â”‚   â””â”€â”€ CoreValues
â”‚   â”‚       â”œâ”€â”€ value_id (PK)
â”‚   â”‚       â”œâ”€â”€ org_id (FK)
â”‚   â”‚       â”œâ”€â”€ value_name (varchar[50])
â”‚   â”‚       â”œâ”€â”€ value_description (text)
â”‚   â”‚       â””â”€â”€ display_order (int)
â”‚   â”‚
â”‚   â”œâ”€â”€ 2. SWOT Analysis
â”‚   â”‚   â”œâ”€â”€ SWOTFactor
â”‚   â”‚   â”‚   â”œâ”€â”€ factor_id (PK)
â”‚   â”‚   â”‚   â”œâ”€â”€ org_id (FK)
â”‚   â”‚   â”‚   â”œâ”€â”€ factor_code (varchar[10]) -- "S01", "W12", "O05", "T08"
â”‚   â”‚   â”‚   â”œâ”€â”€ factor_category (enum: S/W/O/T)
â”‚   â”‚   â”‚   â”œâ”€â”€ factor_description (text)
â”‚   â”‚   â”‚   â”œâ”€â”€ created_by (FK â†’ User)
â”‚   â”‚   â”‚   â””â”€â”€ created_at
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ DelphiRound
â”‚   â”‚   â”‚   â”œâ”€â”€ round_id (PK)
â”‚   â”‚   â”‚   â”œâ”€â”€ org_id (FK)
â”‚   â”‚   â”‚   â”œâ”€â”€ round_number (int: 1-5)
â”‚   â”‚   â”‚   â”œâ”€â”€ round_status (enum: draft/active/closed)
â”‚   â”‚   â”‚   â”œâ”€â”€ start_date
â”‚   â”‚   â”‚   â””â”€â”€ end_date
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ DelphiScore
â”‚   â”‚   â”‚   â”œâ”€â”€ score_id (PK)
â”‚   â”‚   â”‚   â”œâ”€â”€ factor_id (FK)
â”‚   â”‚   â”‚   â”œâ”€â”€ round_id (FK)
â”‚   â”‚   â”‚   â”œâ”€â”€ expert_id (FK â†’ User)
â”‚   â”‚   â”‚   â”œâ”€â”€ importance_score (decimal: 0-5)
â”‚   â”‚   â”‚   â”œâ”€â”€ feasibility_score (decimal: 0-5)
â”‚   â”‚   â”‚   â”œâ”€â”€ urgency_score (decimal: 0-5)
â”‚   â”‚   â”‚   â”œâ”€â”€ comment (text)
â”‚   â”‚   â”‚   â””â”€â”€ scored_at
â”‚   â”‚   â”‚
â”‚   â”‚   â””â”€â”€ SWOTAnalyticsSummary (View/Materialized)
â”‚   â”‚       â”œâ”€â”€ factor_id (FK)
â”‚   â”‚       â”œâ”€â”€ avg_score_all_rounds (calculated)
â”‚   â”‚       â”œâ”€â”€ weight_normalized (calculated)
â”‚   â”‚       â”œâ”€â”€ weighted_score (calculated)
â”‚   â”‚       â”œâ”€â”€ rank_in_category (calculated)
â”‚   â”‚       â””â”€â”€ consensus_level (calculated: std_dev)
â”‚   â”‚
â”‚   â”œâ”€â”€ 3. Strategic Position
â”‚   â”‚   â”œâ”€â”€ SFASMatrix
â”‚   â”‚   â”‚   â”œâ”€â”€ sfas_id (PK)
â”‚   â”‚   â”‚   â”œâ”€â”€ org_id (FK)
â”‚   â”‚   â”‚   â”œâ”€â”€ analysis_date
â”‚   â”‚   â”‚   â”œâ”€â”€ strengths_total (decimal)
â”‚   â”‚   â”‚   â”œâ”€â”€ weaknesses_total (decimal)
â”‚   â”‚   â”‚   â”œâ”€â”€ opportunities_total (decimal)
â”‚   â”‚   â”‚   â”œâ”€â”€ threats_total (decimal)
â”‚   â”‚   â”‚   â”œâ”€â”€ internal_factor_score (S-W)
â”‚   â”‚   â”‚   â”œâ”€â”€ external_factor_score (O-T)
â”‚   â”‚   â”‚   â””â”€â”€ strategic_position (enum: SO/ST/WO/WT)
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ CoreCompetency (VRIO)
â”‚   â”‚   â”‚   â”œâ”€â”€ competency_id (PK)
â”‚   â”‚   â”‚   â”œâ”€â”€ org_id (FK)
â”‚   â”‚   â”‚   â”œâ”€â”€ resource_name
â”‚   â”‚   â”‚   â”œâ”€â”€ value_score (1-5)
â”‚   â”‚   â”‚   â”œâ”€â”€ rarity_score (1-5)
â”‚   â”‚   â”‚   â”œâ”€â”€ inimitability_score (1-5)
â”‚   â”‚   â”‚   â”œâ”€â”€ organization_score (1-5)
â”‚   â”‚   â”‚   â”œâ”€â”€ vrio_classification (calculated)
â”‚   â”‚   â”‚   â””â”€â”€ competitive_advantage_type
â”‚   â”‚   â”‚
â”‚   â”‚   â””â”€â”€ StrategicChallenge
â”‚   â”‚       â”œâ”€â”€ challenge_id (PK)
â”‚   â”‚       â”œâ”€â”€ sfas_id (FK)
â”‚   â”‚       â”œâ”€â”€ challenge_description
â”‚   â”‚       â”œâ”€â”€ challenge_type (enum: internal/external)
â”‚   â”‚       â”œâ”€â”€ priority_score (1-10)
â”‚   â”‚       â””â”€â”€ linked_factors (JSON: [factor_ids])
â”‚   â”‚
â”‚   â”œâ”€â”€ 4. Blue Ocean Strategy (BOSS)
â”‚   â”‚   â”œâ”€â”€ FourActionGrid
â”‚   â”‚   â”‚   â”œâ”€â”€ action_id (PK)
â”‚   â”‚   â”‚   â”œâ”€â”€ org_id (FK)
â”‚   â”‚   â”‚   â”œâ”€â”€ factor_name
â”‚   â”‚   â”‚   â”œâ”€â”€ action_type (enum: eliminate/reduce/raise/create)
â”‚   â”‚   â”‚   â”œâ”€â”€ current_level (decimal)
â”‚   â”‚   â”‚   â”œâ”€â”€ target_level (decimal)
â”‚   â”‚   â”‚   â”œâ”€â”€ rationale (text)
â”‚   â”‚   â”‚   â””â”€â”€ innovation_score (calculated)
â”‚   â”‚   â”‚
â”‚   â”‚   â””â”€â”€ ValueCurve
â”‚   â”‚       â”œâ”€â”€ curve_id (PK)
â”‚   â”‚       â”œâ”€â”€ org_id (FK)
â”‚   â”‚       â”œâ”€â”€ curve_type (enum: current/proposed)
â”‚   â”‚       â”œâ”€â”€ factors (JSON array)
â”‚   â”‚       â””â”€â”€ curve_data (JSON: [{factor, score}])
â”‚   â”‚
â”‚   â””â”€â”€ 5. POSE Framework
â”‚       â”œâ”€â”€ POSEAssessment
â”‚       â”‚   â”œâ”€â”€ pose_id (PK)
â”‚       â”‚   â”œâ”€â”€ org_id (FK)
â”‚       â”‚   â”œâ”€â”€ moderation_score (decimal)
â”‚       â”‚   â”œâ”€â”€ reasonableness_score (decimal)
â”‚       â”‚   â”œâ”€â”€ self_immunity_score (decimal)
â”‚       â”‚   â”œâ”€â”€ knowledge_condition (bool)
â”‚       â”‚   â”œâ”€â”€ virtue_condition (bool)
â”‚       â”‚   â””â”€â”€ pose_index (calculated)
â”‚       â”‚
â”‚       â””â”€â”€ POSEEvidence
â”‚           â”œâ”€â”€ evidence_id (PK)
â”‚           â”œâ”€â”€ pose_id (FK)
â”‚           â”œâ”€â”€ principle (enum: moderation/reasonableness/immunity)
â”‚           â”œâ”€â”€ evidence_description
â”‚           â””â”€â”€ supporting_docs (JSON: file_refs)
â”‚
â”œâ”€â”€ ğŸ¯ STRATEGIC EXECUTION DOMAIN (Menu 2)
â”‚   â”‚
â”‚   â”œâ”€â”€ 6. TOWS Strategy
â”‚   â”‚   â”œâ”€â”€ TOWSStrategy
â”‚   â”‚   â”‚   â”œâ”€â”€ strategy_id (PK)
â”‚   â”‚   â”‚   â”œâ”€â”€ org_id (FK)
â”‚   â”‚   â”‚   â”œâ”€â”€ strategy_code (varchar[10]) -- "SO1", "WO2", "ST3", "WT1"
â”‚   â”‚   â”‚   â”œâ”€â”€ strategy_type (enum: SO/WO/ST/WT)
â”‚   â”‚   â”‚   â”œâ”€â”€ strategy_description (text)
â”‚   â”‚   â”‚   â”œâ”€â”€ linked_strengths (JSON: [factor_ids])
â”‚   â”‚   â”‚   â”œâ”€â”€ linked_weaknesses (JSON: [factor_ids])
â”‚   â”‚   â”‚   â”œâ”€â”€ linked_opportunities (JSON: [factor_ids])
â”‚   â”‚   â”‚   â”œâ”€â”€ linked_threats (JSON: [factor_ids])
â”‚   â”‚   â”‚   â”œâ”€â”€ priority_score (decimal)
â”‚   â”‚   â”‚   â”œâ”€â”€ status (enum: proposed/approved/active/archived)
â”‚   â”‚   â”‚   â””â”€â”€ version
â”‚   â”‚   â”‚
â”‚   â”‚   â””â”€â”€ StrategyRationale
â”‚   â”‚       â”œâ”€â”€ rationale_id (PK)
â”‚   â”‚       â”œâ”€â”€ strategy_id (FK)
â”‚   â”‚       â”œâ”€â”€ rationale_text (text)
â”‚   â”‚       â”œâ”€â”€ supporting_data (JSON)
â”‚   â”‚       â””â”€â”€ approval_status
â”‚   â”‚
â”‚   â”œâ”€â”€ 7. Balanced Scorecard (BSC)
â”‚   â”‚   â”œâ”€â”€ BSCPerspective
â”‚   â”‚   â”‚   â”œâ”€â”€ perspective_id (PK)
â”‚   â”‚   â”‚   â”œâ”€â”€ perspective_name (enum: financial/customer/internal/learning)
â”‚   â”‚   â”‚   â”œâ”€â”€ display_order (int: 1-4)
â”‚   â”‚   â”‚   â””â”€â”€ description
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ StrategicObjective
â”‚   â”‚   â”‚   â”œâ”€â”€ objective_id (PK)
â”‚   â”‚   â”‚   â”œâ”€â”€ org_id (FK)
â”‚   â”‚   â”‚   â”œâ”€â”€ perspective_id (FK)
â”‚   â”‚   â”‚   â”œâ”€â”€ objective_code (varchar[10]) -- "F1", "C2", "I3", "L1"
â”‚   â”‚   â”‚   â”œâ”€â”€ objective_name
â”‚   â”‚   â”‚   â”œâ”€â”€ objective_description (text)
â”‚   â”‚   â”‚   â”œâ”€â”€ linked_strategies (JSON: [strategy_ids])
â”‚   â”‚   â”‚   â”œâ”€â”€ target_year (int)
â”‚   â”‚   â”‚   â”œâ”€â”€ weight_percentage (decimal)
â”‚   â”‚   â”‚   â””â”€â”€ status
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ KPI
â”‚   â”‚   â”‚   â”œâ”€â”€ kpi_id (PK)
â”‚   â”‚   â”‚   â”œâ”€â”€ objective_id (FK)
â”‚   â”‚   â”‚   â”œâ”€â”€ kpi_code (varchar[20])
â”‚   â”‚   â”‚   â”œâ”€â”€ kpi_name
â”‚   â”‚   â”‚   â”œâ”€â”€ kpi_description (text)
â”‚   â”‚   â”‚   â”œâ”€â”€ measurement_unit
â”‚   â”‚   â”‚   â”œâ”€â”€ measurement_formula (text)
â”‚   â”‚   â”‚   â”œâ”€â”€ data_source
â”‚   â”‚   â”‚   â”œâ”€â”€ baseline_value (decimal)
â”‚   â”‚   â”‚   â”œâ”€â”€ baseline_year (int)
â”‚   â”‚   â”‚   â”œâ”€â”€ target_value (decimal)
â”‚   â”‚   â”‚   â”œâ”€â”€ target_year (int)
â”‚   â”‚   â”‚   â”œâ”€â”€ kpi_type (enum: lagging/leading)
â”‚   â”‚   â”‚   â”œâ”€â”€ polarity (enum: higher_better/lower_better)
â”‚   â”‚   â”‚   â””â”€â”€ weight_percentage (decimal)
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ KPITarget
â”‚   â”‚   â”‚   â”œâ”€â”€ target_id (PK)
â”‚   â”‚   â”‚   â”œâ”€â”€ kpi_id (FK)
â”‚   â”‚   â”‚   â”œâ”€â”€ year (int)
â”‚   â”‚   â”‚   â”œâ”€â”€ quarter (int: 1-4)
â”‚   â”‚   â”‚   â”œâ”€â”€ target_value (decimal)
â”‚   â”‚   â”‚   â”œâ”€â”€ stretch_target (decimal)
â”‚   â”‚   â”‚   â””â”€â”€ minimum_acceptable (decimal)
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ KPIActual
â”‚   â”‚   â”‚   â”œâ”€â”€ actual_id (PK)
â”‚   â”‚   â”‚   â”œâ”€â”€ kpi_id (FK)
â”‚   â”‚   â”‚   â”œâ”€â”€ measurement_date
â”‚   â”‚   â”‚   â”œâ”€â”€ actual_value (decimal)
â”‚   â”‚   â”‚   â”œâ”€â”€ data_quality_score (1-5)
â”‚   â”‚   â”‚   â”œâ”€â”€ notes (text)
â”‚   â”‚   â”‚   â”œâ”€â”€ verified_by (FK â†’ User)
â”‚   â”‚   â”‚   â””â”€â”€ verified_at
â”‚   â”‚   â”‚
â”‚   â”‚   â””â”€â”€ BSCPerformance (View)
â”‚   â”‚       â”œâ”€â”€ kpi_id
â”‚   â”‚       â”œâ”€â”€ current_value
â”‚   â”‚       â”œâ”€â”€ target_value
â”‚   â”‚       â”œâ”€â”€ achievement_percentage (calculated)
â”‚   â”‚       â”œâ”€â”€ traffic_light (enum: green/yellow/red)
â”‚   â”‚       â”œâ”€â”€ trend (enum: improving/stable/declining)
â”‚   â”‚       â””â”€â”€ objective_rollup_score
â”‚   â”‚
â”‚   â”œâ”€â”€ 8. Strategy Map
â”‚   â”‚   â”œâ”€â”€ StrategyMapNode
â”‚   â”‚   â”‚   â”œâ”€â”€ node_id (PK)
â”‚   â”‚   â”‚   â”œâ”€â”€ objective_id (FK)
â”‚   â”‚   â”‚   â”œâ”€â”€ position_x (int)
â”‚   â”‚   â”‚   â”œâ”€â”€ position_y (int)
â”‚   â”‚   â”‚   â”œâ”€â”€ node_color
â”‚   â”‚   â”‚   â””â”€â”€ display_label
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ CausalRelationship
â”‚   â”‚   â”‚   â”œâ”€â”€ relationship_id (PK)
â”‚   â”‚   â”‚   â”œâ”€â”€ source_objective_id (FK)
â”‚   â”‚   â”‚   â”œâ”€â”€ target_objective_id (FK)
â”‚   â”‚   â”‚   â”œâ”€â”€ relationship_type (enum: enables/influences/supports)
â”‚   â”‚   â”‚   â”œâ”€â”€ strength (decimal: 0-1)
â”‚   â”‚   â”‚   â”œâ”€â”€ evidence (text)
â”‚   â”‚   â”‚   â””â”€â”€ validated (bool)
â”‚   â”‚   â”‚
â”‚   â”‚   â””â”€â”€ ImpactAnalysis (Calculated)
â”‚   â”‚       â”œâ”€â”€ objective_id
â”‚   â”‚       â”œâ”€â”€ direct_dependencies_count
â”‚   â”‚       â”œâ”€â”€ indirect_dependencies_count
â”‚   â”‚       â”œâ”€â”€ influence_score (calculated)
â”‚   â”‚       â””â”€â”€ critical_path_indicator (bool)
â”‚   â”‚
â”‚   â”œâ”€â”€ 9. Hoshin Kanri (X-Matrix)
â”‚   â”‚   â”œâ”€â”€ LongTermGoal
â”‚   â”‚   â”‚   â”œâ”€â”€ ltg_id (PK)
â”‚   â”‚   â”‚   â”œâ”€â”€ org_id (FK)
â”‚   â”‚   â”‚   â”œâ”€â”€ goal_name
â”‚   â”‚   â”‚   â”œâ”€â”€ goal_description
â”‚   â”‚   â”‚   â”œâ”€â”€ target_year (int)
â”‚   â”‚   â”‚   â”œâ”€â”€ linked_vision (FK â†’ Vision)
â”‚   â”‚   â”‚   â””â”€â”€ priority_rank (int)
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ AnnualObjective
â”‚   â”‚   â”‚   â”œâ”€â”€ annual_obj_id (PK)
â”‚   â”‚   â”‚   â”œâ”€â”€ org_id (FK)
â”‚   â”‚   â”‚   â”œâ”€â”€ fiscal_year (int)
â”‚   â”‚   â”‚   â”œâ”€â”€ objective_name
â”‚   â”‚   â”‚   â”œâ”€â”€ objective_description
â”‚   â”‚   â”‚   â”œâ”€â”€ linked_ltg (FK â†’ LongTermGoal)
â”‚   â”‚   â”‚   â””â”€â”€ completion_percentage (decimal)
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ ImprovementPriority
â”‚   â”‚   â”‚   â”œâ”€â”€ priority_id (PK)
â”‚   â”‚   â”‚   â”œâ”€â”€ org_id (FK)
â”‚   â”‚   â”‚   â”œâ”€â”€ priority_name
â”‚   â”‚   â”‚   â”œâ”€â”€ priority_description
â”‚   â”‚   â”‚   â”œâ”€â”€ linked_annual_obj (FK)
â”‚   â”‚   â”‚   â””â”€â”€ resource_allocation_percentage
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ XMatrixCorrelation
â”‚   â”‚   â”‚   â”œâ”€â”€ correlation_id (PK)
â”‚   â”‚   â”‚   â”œâ”€â”€ ltg_id (FK)
â”‚   â”‚   â”‚   â”œâ”€â”€ annual_obj_id (FK)
â”‚   â”‚   â”‚   â”œâ”€â”€ priority_id (FK)
â”‚   â”‚   â”‚   â”œâ”€â”€ correlation_strength (enum: 9/3/1/0)
â”‚   â”‚   â”‚   â””â”€â”€ justification (text)
â”‚   â”‚   â”‚
â”‚   â”‚   â””â”€â”€ ResponsibleTeam
â”‚   â”‚       â”œâ”€â”€ assignment_id (PK)
â”‚   â”‚       â”œâ”€â”€ annual_obj_id (FK)
â”‚   â”‚       â”œâ”€â”€ team_id (FK)
â”‚   â”‚       â”œâ”€â”€ role (enum: owner/contributor/consulted/informed)
â”‚   â”‚       â””â”€â”€ accountability_level (1-5)
â”‚   â”‚
â”‚   â”œâ”€â”€ 10. Logical Framework (LFA)
â”‚   â”‚   â”œâ”€â”€ LogframeHierarchy
â”‚   â”‚   â”‚   â”œâ”€â”€ level_id (PK)
â”‚   â”‚   â”‚   â”œâ”€â”€ level_name (enum: ultimate_outcome/outcome/output/activity/input)
â”‚   â”‚   â”‚   â”œâ”€â”€ level_order (int: 1-5)
â”‚   â”‚   â”‚   â””â”€â”€ description
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ LogframeElement
â”‚   â”‚   â”‚   â”œâ”€â”€ element_id (PK)
â”‚   â”‚   â”‚   â”œâ”€â”€ org_id (FK)
â”‚   â”‚   â”‚   â”œâ”€â”€ project_id (FK)
â”‚   â”‚   â”‚   â”œâ”€â”€ level_id (FK)
â”‚   â”‚   â”‚   â”œâ”€â”€ parent_element_id (FK: self-reference)
â”‚   â”‚   â”‚   â”œâ”€â”€ element_code (varchar[20]) -- "UO1", "OC2", "OP3"
â”‚   â”‚   â”‚   â”œâ”€â”€ narrative_summary (text)
â”‚   â”‚   â”‚   â”œâ”€â”€ display_order (int)
â”‚   â”‚   â”‚   â””â”€â”€ status
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ IndicatorOVI
â”‚   â”‚   â”‚   â”œâ”€â”€ ovi_id (PK)
â”‚   â”‚   â”‚   â”œâ”€â”€ element_id (FK)
â”‚   â”‚   â”‚   â”œâ”€â”€ indicator_description (text)
â”‚   â”‚   â”‚   â”œâ”€â”€ baseline_value (decimal)
â”‚   â”‚   â”‚   â”œâ”€â”€ target_value (decimal)
â”‚   â”‚   â”‚   â”œâ”€â”€ measurement_method (text)
â”‚   â”‚   â”‚   â””â”€â”€ disaggregation (JSON: {gender, age, location})
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ MeansOfVerification
â”‚   â”‚   â”‚   â”œâ”€â”€ mov_id (PK)
â”‚   â”‚   â”‚   â”œâ”€â”€ ovi_id (FK)
â”‚   â”‚   â”‚   â”œâ”€â”€ data_source (text)
â”‚   â”‚   â”‚   â”œâ”€â”€ collection_frequency (enum: daily/weekly/monthly/quarterly/annual)
â”‚   â”‚   â”‚   â”œâ”€â”€ responsible_party
â”‚   â”‚   â”‚   â””â”€â”€ data_quality_rating (1-5)
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ Assumption
â”‚   â”‚   â”‚   â”œâ”€â”€ assumption_id (PK)
â”‚   â”‚   â”‚   â”œâ”€â”€ element_id (FK)
â”‚   â”‚   â”‚   â”œâ”€â”€ assumption_description (text)
â”‚   â”‚   â”‚   â”œâ”€â”€ assumption_type (enum: assumption/risk)
â”‚   â”‚   â”‚   â”œâ”€â”€ likelihood (enum: low/medium/high)
â”‚   â”‚   â”‚   â”œâ”€â”€ impact (enum: low/medium/high)
â”‚   â”‚   â”‚   â”œâ”€â”€ risk_score (calculated: likelihood Ã— impact)
â”‚   â”‚   â”‚   â””â”€â”€ mitigation_strategy (text)
â”‚   â”‚   â”‚
â”‚   â”‚   â””â”€â”€ TheoryOfChange (Visualization)
â”‚   â”‚       â”œâ”€â”€ toc_id (PK)
â”‚   â”‚       â”œâ”€â”€ project_id (FK)
â”‚   â”‚       â”œâ”€â”€ toc_diagram (JSON: nodes & edges)
â”‚   â”‚       â”œâ”€â”€ causal_pathways (JSON)
â”‚   â”‚       â””â”€â”€ evidence_base (text)
â”‚   â”‚
â”‚   â”œâ”€â”€ 11. Project Portfolio
â”‚   â”‚   â”œâ”€â”€ Project
â”‚   â”‚   â”‚   â”œâ”€â”€ project_id (PK)
â”‚   â”‚   â”‚   â”œâ”€â”€ org_id (FK)
â”‚   â”‚   â”‚   â”œâ”€â”€ project_code (varchar[20])
â”‚   â”‚   â”‚   â”œâ”€â”€ project_name
â”‚   â”‚   â”‚   â”œâ”€â”€ project_description (text)
â”‚   â”‚   â”‚   â”œâ”€â”€ linked_strategies (JSON: [strategy_ids])
â”‚   â”‚   â”‚   â”œâ”€â”€ linked_objectives (JSON: [objective_ids])
â”‚   â”‚   â”‚   â”œâ”€â”€ project_manager_id (FK â†’ User)
â”‚   â”‚   â”‚   â”œâ”€â”€ project_status (enum: proposed/approved/active/on_hold/completed/cancelled)
â”‚   â”‚   â”‚   â”œâ”€â”€ start_date
â”‚   â”‚   â”‚   â”œâ”€â”€ end_date
â”‚   â”‚   â”‚   â”œâ”€â”€ total_budget (decimal)
â”‚   â”‚   â”‚   â”œâ”€â”€ budget_spent (decimal)
â”‚   â”‚   â”‚   â”œâ”€â”€ completion_percentage (decimal)
â”‚   â”‚   â”‚   â””â”€â”€ risk_level (enum: low/medium/high/critical)
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ WBSElement
â”‚   â”‚   â”‚   â”œâ”€â”€ wbs_id (PK)
â”‚   â”‚   â”‚   â”œâ”€â”€ project_id (FK)
â”‚   â”‚   â”‚   â”œâ”€â”€ parent_wbs_id (FK: self-reference)
â”‚   â”‚   â”‚   â”œâ”€â”€ wbs_code (varchar[20]) -- "1.2.3"
â”‚   â”‚   â”‚   â”œâ”€â”€ element_name
â”‚   â”‚   â”‚   â”œâ”€â”€ element_type (enum: phase/deliverable/activity/task)
â”‚   â”‚   â”‚   â”œâ”€â”€ description (text)
â”‚   â”‚   â”‚   â”œâ”€â”€ assigned_to (FK â†’ User)
â”‚   â”‚   â”‚   â”œâ”€â”€ start_date
â”‚   â”‚   â”‚   â”œâ”€â”€ end_date
â”‚   â”‚   â”‚   â”œâ”€â”€ duration_days (int)
â”‚   â”‚   â”‚   â”œâ”€â”€ progress_percentage (decimal)
â”‚   â”‚   â”‚   â”œâ”€â”€ budget_allocated (decimal)
â”‚   â”‚   â”‚   â””â”€â”€ status
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ Dependency
â”‚   â”‚   â”‚   â”œâ”€â”€ dependency_id (PK)
â”‚   â”‚   â”‚   â”œâ”€â”€ predecessor_wbs_id (FK)
â”‚   â”‚   â”‚   â”œâ”€â”€ successor_wbs_id (FK)
â”‚   â”‚   â”‚   â”œâ”€â”€ dependency_type (enum: FS/SS/FF/SF)
â”‚   â”‚   â”‚   â”œâ”€â”€ lag_days (int)
â”‚   â”‚   â”‚   â””â”€â”€ is_critical_path (bool)
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ Milestone
â”‚   â”‚   â”‚   â”œâ”€â”€ milestone_id (PK)
â”‚   â”‚   â”‚   â”œâ”€â”€ project_id (FK)
â”‚   â”‚   â”‚   â”œâ”€â”€ milestone_name
â”‚   â”‚   â”‚   â”œâ”€â”€ milestone_description
â”‚   â”‚   â”‚   â”œâ”€â”€ target_date
â”‚   â”‚   â”‚   â”œâ”€â”€ actual_date
â”‚   â”‚   â”‚   â”œâ”€â”€ status (enum: pending/achieved/missed)
â”‚   â”‚   â”‚   â””â”€â”€ importance_level (1-5)
â”‚   â”‚   â”‚
â”‚   â”‚   â””â”€â”€ ProjectRisk
â”‚   â”‚       â”œâ”€â”€ risk_id (PK)
â”‚   â”‚       â”œâ”€â”€ project_id (FK)
â”‚   â”‚       â”œâ”€â”€ risk_description (text)
â”‚   â”‚       â”œâ”€â”€ risk_category (enum: scope/schedule/cost/quality/resource)
â”‚   â”‚       â”œâ”€â”€ probability (decimal: 0-1)
â”‚   â”‚       â”œâ”€â”€ impact (decimal: 0-10)
â”‚   â”‚       â”œâ”€â”€ risk_score (calculated)
â”‚   â”‚       â”œâ”€â”€ mitigation_plan (text)
â”‚   â”‚       â”œâ”€â”€ contingency_plan (text)
â”‚   â”‚       â””â”€â”€ owner_id (FK â†’ User)
â”‚   â”‚
â”‚   â”œâ”€â”€ 12. Activity-Based Costing (ABC)
â”‚   â”‚   â”œâ”€â”€ ActivityPool
â”‚   â”‚   â”‚   â”œâ”€â”€ activity_pool_id (PK)
â”‚   â”‚   â”‚   â”œâ”€â”€ org_id (FK)
â”‚   â”‚   â”‚   â”œâ”€â”€ activity_name
â”‚   â”‚   â”‚   â”œâ”€â”€ activity_description
â”‚   â”‚   â”‚   â”œâ”€â”€ activity_category (enum: value_added/non_value_added/support)
â”‚   â”‚   â”‚   â””â”€â”€ total_cost (decimal)
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ CostDriver
â”‚   â”‚   â”‚   â”œâ”€â”€ driver_id (PK)
â”‚   â”‚   â”‚   â”œâ”€â”€ activity_pool_id (FK)
â”‚   â”‚   â”‚   â”œâ”€â”€ driver_name
â”‚   â”‚   â”‚   â”œâ”€â”€ driver_unit (varchar[50]) -- "hours", "transactions", "sq.meters"
â”‚   â”‚   â”‚   â”œâ”€â”€ total_quantity (decimal)
â”‚   â”‚   â”‚   â””â”€â”€ cost_per_unit (calculated)
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ CostAllocation
â”‚   â”‚   â”‚   â”œâ”€â”€ allocation_id (PK)
â”‚   â”‚   â”‚   â”œâ”€â”€ activity_pool_id (FK)
â”‚   â”‚   â”‚   â”œâ”€â”€ project_id (FK)
â”‚   â”‚   â”‚   â”œâ”€â”€ wbs_id (FK)
â”‚   â”‚   â”‚   â”œâ”€â”€ driver_quantity_used (decimal)
â”‚   â”‚   â”‚   â”œâ”€â”€ allocated_cost (calculated)
â”‚   â”‚   â”‚   â””â”€â”€ allocation_date
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ OverheadCost
â”‚   â”‚   â”‚   â”œâ”€â”€ overhead_id (PK)
â”‚   â”‚   â”‚   â”œâ”€â”€ org_id (FK)
â”‚   â”‚   â”‚   â”œâ”€â”€ cost_category (enum: admin/facilities/utilities/it)
â”‚   â”‚   â”‚   â”œâ”€â”€ cost_amount (decimal)
â”‚   â”‚   â”‚   â”œâ”€â”€ allocation_basis (text)
â”‚   â”‚   â”‚   â”œâ”€â”€ fiscal_year (int)
â”‚   â”‚   â”‚   â””â”€â”€ fiscal_quarter (int)
â”‚   â”‚   â”‚
â”‚   â”‚   â””â”€â”€ CostAnalysis (View)
â”‚   â”‚       â”œâ”€â”€ project_id
â”‚   â”‚       â”œâ”€â”€ total_direct_cost
â”‚   â”‚       â”œâ”€â”€ total_indirect_cost
â”‚   â”‚       â”œâ”€â”€ overhead_allocation
â”‚   â”‚       â”œâ”€â”€ full_project_cost (calculated)
â”‚   â”‚       â””â”€â”€ cost_variance_percentage
â”‚   â”‚
â”‚   â””â”€â”€ 13. OKR System
â”‚       â”œâ”€â”€ OKRCycle
â”‚       â”‚   â”œâ”€â”€ cycle_id (PK)
â”‚       â”‚   â”œâ”€â”€ org_id (FK)
â”‚       â”‚   â”œâ”€â”€ cycle_name (varchar[50]) -- "2025-Q1", "FY2025"
â”‚       â”‚   â”œâ”€â”€ cycle_type (enum: quarterly/annual)
â”‚       â”‚   â”œâ”€â”€ start_date
â”‚       â”‚   â”œâ”€â”€ end_date
â”‚       â”‚   â”œâ”€â”€ status (enum: planning/active/review/closed)
â”‚       â”‚   â””â”€â”€ parent_cycle_id (FK: for quarterly â†’ annual)
â”‚       â”‚
â”‚       â”œâ”€â”€ OKR
â”‚       â”‚   â”œâ”€â”€ okr_id (PK)
â”‚       â”‚   â”œâ”€â”€ cycle_id (FK)
â”‚       â”‚   â”œâ”€â”€ owner_id (FK â†’ User/Team/Org)
â”‚       â”‚   â”œâ”€â”€ owner_type (enum: organization/team/individual)
â”‚       â”‚   â”œâ”€â”€ parent_okr_id (FK: for cascading)
â”‚       â”‚   â”œâ”€â”€ objective_text (text)
â”‚       â”‚   â”œâ”€â”€ objective_type (enum: committed/aspirational)
â”‚       â”‚   â”œâ”€â”€ linked_strategy_id (FK)
â”‚       â”‚   â”œâ”€â”€ confidence_level (decimal: 0-10)
â”‚       â”‚   â””â”€â”€ status (enum: draft/active/at_risk/achieved/missed)
â”‚       â”‚
â”‚       â”œâ”€â”€ KeyResult
â”‚       â”‚   â”œâ”€â”€ kr_id (PK)
â”‚       â”‚   â”œâ”€â”€ okr_id (FK)
â”‚       â”‚   â”œâ”€â”€ kr_number (int: 1-5)
â”‚       â”‚   â”œâ”€â”€ kr_description (text)
â”‚       â”‚   â”œâ”€â”€ kr_type (enum: metric/milestone/binary)
â”‚       â”‚   â”œâ”€â”€ baseline_value (decimal)
â”‚       â”‚   â”œâ”€â”€ target_value (decimal)
â”‚       â”‚   â”œâ”€â”€ current_value (decimal)
â”‚       â”‚   â”œâ”€â”€ unit_of_measure
â”‚       â”‚   â”œâ”€â”€ measurement_frequency (enum: weekly/monthly)
â”‚       â”‚   â”œâ”€â”€ weight_percentage (decimal)
â”‚       â”‚   â””â”€â”€ grade (calculated: current/target)
â”‚       â”‚
â”‚       â”œâ”€â”€ OKRUpdate
â”‚       â”‚   â”œâ”€â”€ update_id (PK)
â”‚       â”‚   â”œâ”€â”€ okr_id (FK)
â”‚       â”‚   â”œâ”€â”€ kr_id (FK)
â”‚       â”‚   â”œâ”€â”€ update_date
â”‚       â”‚   â”œâ”€â”€ progress_value (decimal)
â”‚       â”‚   â”œâ”€â”€ confidence_level (decimal: 0-10)
â”‚       â”‚   â”œâ”€â”€ status_comment (text)
â”‚       â”‚   â”œâ”€â”€ blockers (text)
â”‚       â”‚   â””â”€â”€ updated_by (FK â†’ User)
â”‚       â”‚
â”‚       â”œâ”€â”€ OKRAlignment
â”‚       â”‚   â”œâ”€â”€ alignment_id (PK)
â”‚       â”‚   â”œâ”€â”€ child_okr_id (FK)
â”‚       â”‚   â”œâ”€â”€ parent_okr_id (FK)
â”‚       â”‚   â”œâ”€â”€ alignment_type (enum: direct/indirect/supports)
â”‚       â”‚   â”œâ”€â”€ contribution_percentage (decimal)
â”‚       â”‚   â””â”€â”€ alignment_notes (text)
â”‚       â”‚
â”‚       â””â”€â”€ OKRPerformance (View)
â”‚           â”œâ”€â”€ okr_id
â”‚           â”œâ”€â”€ objective_achievement_rate (calculated)
â”‚           â”œâ”€â”€ avg_kr_grade (calculated)
â”‚           â”œâ”€â”€ on_track_kr_count
â”‚           â”œâ”€â”€ at_risk_kr_count
â”‚           â”œâ”€â”€ off_track_kr_count
â”‚           â”œâ”€â”€ overall_health (enum: healthy/needs_attention/critical)
â”‚           â””â”€â”€ team_confidence_avg
â”‚
â””â”€â”€ ğŸ” SYSTEM MANAGEMENT DOMAIN
    â”‚
    â”œâ”€â”€ User Management
    â”‚   â”œâ”€â”€ User
    â”‚   â”‚   â”œâ”€â”€ user_id (PK)
    â”‚   â”‚   â”œâ”€â”€ username (unique)
    â”‚   â”‚   â”œâ”€â”€ email (unique)
    â”‚   â”‚   â”œâ”€â”€ password_hash
    â”‚   â”‚   â”œâ”€â”€ full_name
    â”‚   â”‚   â”œâ”€â”€ position_title
    â”‚   â”‚   â”œâ”€â”€ department_id (FK)
    â”‚   â”‚   â”œâ”€â”€ user_role (enum: admin/manager/contributor/viewer)
    â”‚   â”‚   â”œâ”€â”€ is_active (bool)
    â”‚   â”‚   â”œâ”€â”€ last_login_at
    â”‚   â”‚   â””â”€â”€ created_at
    â”‚   â”‚
    â”‚   â”œâ”€â”€ Team
    â”‚   â”‚   â”œâ”€â”€ team_id (PK)
    â”‚   â”‚   â”œâ”€â”€ org_id (FK)
    â”‚   â”‚   â”œâ”€â”€ team_name
    â”‚   â”‚   â”œâ”€â”€ parent_team_id (FK: self-reference)
    â”‚   â”‚   â”œâ”€â”€ team_lead_id (FK â†’ User)
    â”‚   â”‚   â””â”€â”€ team_type (enum: functional/cross_functional/project)
    â”‚   â”‚
    â”‚   â”œâ”€â”€ TeamMembership
    â”‚   â”‚   â”œâ”€â”€ membership_id (PK)
    â”‚   â”‚   â”œâ”€â”€ team_id (FK)
    â”‚   â”‚   â”œâ”€â”€ user_id (FK)
    â”‚   â”‚   â”œâ”€â”€ role_in_team (varchar[50])
    â”‚   â”‚   â”œâ”€â”€ join_date
    â”‚   â”‚   â””â”€â”€ is_active (bool)
    â”‚   â”‚
    â”‚   â””â”€â”€ Permission
    â”‚       â”œâ”€â”€ permission_id (PK)
    â”‚       â”œâ”€â”€ user_id (FK)
    â”‚       â”œâ”€â”€ resource_type (enum: org/project/okr/bsc)
    â”‚       â”œâ”€â”€ resource_id (int)
    â”‚       â”œâ”€â”€ permission_level (enum: read/write/admin)
    â”‚       â””â”€â”€ granted_at
    â”‚
    â”œâ”€â”€ Audit & Logging
    â”‚   â”œâ”€â”€ AuditLog
    â”‚   â”‚   â”œâ”€â”€ log_id (PK)
    â”‚   â”‚   â”œâ”€â”€ user_id (FK)
    â”‚   â”‚   â”œâ”€â”€ action_type (enum: create/update/delete/view)
    â”‚   â”‚   â”œâ”€â”€ entity_type (varchar[50])
    â”‚   â”‚   â”œâ”€â”€ entity_id (int)
    â”‚   â”‚   â”œâ”€â”€ old_value (JSON)
    â”‚   â”‚   â”œâ”€â”€ new_value (JSON)
    â”‚   â”‚   â”œâ”€â”€ ip_address
    â”‚   â”‚   â”œâ”€â”€ user_agent
    â”‚   â”‚   â””â”€â”€ timestamp
    â”‚   â”‚
    â”‚   â””â”€â”€ ChangeHistory
    â”‚       â”œâ”€â”€ change_id (PK)
    â”‚       â”œâ”€â”€ entity_type
    â”‚       â”œâ”€â”€ entity_id
    â”‚       â”œâ”€â”€ field_name
    â”‚       â”œâ”€â”€ old_value
    â”‚       â”œâ”€â”€ new_value
    â”‚       â”œâ”€â”€ changed_by (FK â†’ User)
    â”‚       â”œâ”€â”€ change_reason (text)
    â”‚       â””â”€â”€ changed_at
    â”‚
    â”œâ”€â”€ Document Management
    â”‚   â”œâ”€â”€ Document
    â”‚   â”‚   â”œâ”€â”€ document_id (PK)
    â”‚   â”‚   â”œâ”€â”€ document_name
    â”‚   â”‚   â”œâ”€â”€ document_type (enum: pdf/docx/xlsx/pptx)
    â”‚   â”‚   â”œâ”€â”€ file_size_bytes (bigint)
    â”‚   â”‚   â”œâ”€â”€ file_path (varchar[500])
    â”‚   â”‚   â”œâ”€â”€ linked_entity_type
    â”‚   â”‚   â”œâ”€â”€ linked_entity_id
    â”‚   â”‚   â”œâ”€â”€ uploaded_by (FK â†’ User)
    â”‚   â”‚   â”œâ”€â”€ upload_date
    â”‚   â”‚   â””â”€â”€ version_number
    â”‚   â”‚
    â”‚   â””â”€â”€ DocumentVersion
    â”‚       â”œâ”€â”€ version_id (PK)
    â”‚       â”œâ”€â”€ document_id (FK)
    â”‚       â”œâ”€â”€ version_number
    â”‚       â”œâ”€â”€ file_path
    â”‚       â”œâ”€â”€ change_notes (text)
    â”‚       â”œâ”€â”€ created_by (FK â†’ User)
    â”‚       â””â”€â”€ created_at
    â”‚
    â”œâ”€â”€ Workflow & Approval
    â”‚   â”œâ”€â”€ WorkflowTemplate
    â”‚   â”‚   â”œâ”€â”€ template_id (PK)
    â”‚   â”‚   â”œâ”€â”€ workflow_name
    â”‚   â”‚   â”œâ”€â”€ entity_type (enum: strategy/okr/project/budget)
    â”‚   â”‚   â”œâ”€â”€ workflow_steps (JSON: [{step, approver_role, conditions}])
    â”‚   â”‚   â””â”€â”€ is_active (bool)
    â”‚   â”‚
    â”‚   â”œâ”€â”€ ApprovalRequest
    â”‚   â”‚   â”œâ”€â”€ request_id (PK)
    â”‚   â”‚   â”œâ”€â”€ workflow_template_id (FK)
    â”‚   â”‚   â”œâ”€â”€ entity_type
    â”‚   â”‚   â”œâ”€â”€ entity_id
    â”‚   â”‚   â”œâ”€â”€ requested_by (FK â†’ User)
    â”‚   â”‚   â”œâ”€â”€ current_step (int)
    â”‚   â”‚   â”œâ”€â”€ status (enum: pending/approved/rejected/cancelled)
    â”‚   â”‚   â”œâ”€â”€ requested_at
    â”‚   â”‚   â””â”€â”€ completed_at
    â”‚   â”‚
    â”‚   â””â”€â”€ ApprovalAction
    â”‚       â”œâ”€â”€ action_id (PK)
    â”‚       â”œâ”€â”€ request_id (FK)
    â”‚       â”œâ”€â”€ step_number (int)
    â”‚       â”œâ”€â”€ approver_id (FK â†’ User)
    â”‚       â”œâ”€â”€ action (enum: approve/reject/request_changes)
    â”‚       â”œâ”€â”€ comments (text)
    â”‚       â””â”€â”€ action_date
    â”‚
    â”œâ”€â”€ Notification System
    â”‚   â”œâ”€â”€ NotificationTemplate
    â”‚   â”‚   â”œâ”€â”€ template_id (PK)
    â”‚   â”‚   â”œâ”€â”€ event_type (enum: okr_due/approval_needed/milestone_achieved)
    â”‚   â”‚   â”œâ”€â”€ template_title
    â”‚   â”‚   â”œâ”€â”€ template_body (text with placeholders)
    â”‚   â”‚   â”œâ”€â”€ channels (JSON: [email, sms, in_app])
    â”‚   â”‚   â””â”€â”€ is_active (bool)
    â”‚   â”‚
    â”‚   â””â”€â”€ Notification
    â”‚       â”œâ”€â”€ notification_id (PK)
    â”‚       â”œâ”€â”€ user_id (FK)
    â”‚       â”œâ”€â”€ template_id (FK)
    â”‚       â”œâ”€â”€ notification_title
    â”‚       â”œâ”€â”€ notification_body (text)
    â”‚       â”œâ”€â”€ priority (enum: low/medium/high)
    â”‚       â”œâ”€â”€ status (enum: unread/read/dismissed)
    â”‚       â”œâ”€â”€ link_url
    â”‚       â”œâ”€â”€ sent_at
    â”‚       â””â”€â”€ read_at
    â”‚
    â”œâ”€â”€ Reporting & Analytics
    â”‚   â”œâ”€â”€ Report
    â”‚   â”‚   â”œâ”€â”€ report_id (PK)
    â”‚   â”‚   â”œâ”€â”€ report_name
    â”‚   â”‚   â”œâ”€â”€ report_type (enum: bsc/okr/project/financial)
    â”‚   â”‚   â”œâ”€â”€ report_query (JSON: filter criteria)
    â”‚   â”‚   â”œâ”€â”€ visualization_config (JSON)
    â”‚   â”‚   â”œâ”€â”€ created_by (FK â†’ User)
    â”‚   â”‚   â”œâ”€â”€ is_public (bool)
    â”‚   â”‚   â””â”€â”€ created_at
    â”‚   â”‚
    â”‚   â”œâ”€â”€ Dashboard
    â”‚   â”‚   â”œâ”€â”€ dashboard_id (PK)
    â”‚   â”‚   â”œâ”€â”€ dashboard_name
    â”‚   â”‚   â”œâ”€â”€ owner_id (FK â†’ User)
    â”‚   â”‚   â”œâ”€â”€ layout_config (JSON: widget positions)
    â”‚   â”‚   â”œâ”€â”€ refresh_interval (int: minutes)
    â”‚   â”‚   â””â”€â”€ is_default (bool)
    â”‚   â”‚
    â”‚   â””â”€â”€ DashboardWidget
    â”‚       â”œâ”€â”€ widget_id (PK)
    â”‚       â”œâ”€â”€ dashboard_id (FK)
    â”‚       â”œâ”€â”€ widget_type (enum: chart/table/kpi_card/gauge)
    â”‚       â”œâ”€â”€ data_source_query (JSON)
    â”‚       â”œâ”€â”€ widget_config (JSON: colors, thresholds)
    â”‚       â”œâ”€â”€ position_x (int)
    â”‚       â”œâ”€â”€ position_y (int)
    â”‚       â”œâ”€â”€ width (int)
    â”‚       â””â”€â”€ height (int)
    â”‚
    â””â”€â”€ Integration & API
        â”œâ”€â”€ APIKey
        â”‚   â”œâ”€â”€ key_id (PK)
        â”‚   â”œâ”€â”€ user_id (FK)
        â”‚   â”œâ”€â”€ key_name
        â”‚   â”œâ”€â”€ api_key_hash
        â”‚   â”œâ”€â”€ scope (JSON: [permissions])
        â”‚   â”œâ”€â”€ rate_limit (int: requests/hour)
        â”‚   â”œâ”€â”€ is_active (bool)
        â”‚   â”œâ”€â”€ created_at
        â”‚   â””â”€â”€ expires_at
        â”‚
        â”œâ”€â”€ Webhook
        â”‚   â”œâ”€â”€ webhook_id (PK)
        â”‚   â”œâ”€â”€ webhook_name
        â”‚   â”œâ”€â”€ event_type (enum: okr_update/project_complete)
        â”‚   â”œâ”€â”€ target_url
        â”‚   â”œâ”€â”€ http_method (enum: POST/PUT)
        â”‚   â”œâ”€â”€ headers (JSON)
        â”‚   â”œâ”€â”€ payload_template (JSON)
        â”‚   â”œâ”€â”€ is_active (bool)
        â”‚   â””â”€â”€ created_by (FK â†’ User)
        â”‚
        â””â”€â”€ IntegrationLog
            â”œâ”€â”€ log_id (PK)
            â”œâ”€â”€ integration_type (enum: api/webhook/import/export)
            â”œâ”€â”€ status (enum: success/failed)
            â”œâ”€â”€ request_payload (JSON)
            â”œâ”€â”€ response_payload (JSON)
            â”œâ”€â”€ error_message (text)
            â”œâ”€â”€ execution_time_ms (int)
            â””â”€â”€ timestamp
```
ğŸ“š Part 2: Learning Roadmap (12 Weeks)
Phase 1: Foundation (Weeks 1-3)
Week 1: Excel VBA Basics
```
Day 1-2: VBA Environment Setup
â”œâ”€ Enable Developer Tab
â”œâ”€ Record & Edit Macros
â”œâ”€ VBA Editor (Alt+F11)
â”œâ”€ Immediate Window (Ctrl+G)
â””â”€ Debug Tools

Day 3-4: VBA Syntax Fundamentals
â”œâ”€ Variables & Data Types (Dim, String, Integer, Double)
â”œâ”€ Control Structures (If...Then, For...Next, Do...Loop)
â”œâ”€ Functions & Subs
â””â”€ Error Handling (On Error Resume Next)

Day 5-7: Excel Object Model
â”œâ”€ Workbooks, Worksheets, Range objects
â”œâ”€ Cells, Rows, Columns manipulation
â”œâ”€ Named Ranges
â””â”€ Events (Workbook_Open, Worksheet_Change)

ğŸ¯ Mini Project: Create a simple data entry form with validation
```
Week 2: Advanced Excel Features
```
Day 1-2: Power Query (M Language)
â”œâ”€ Data Import from multiple sources
â”œâ”€ Transform & Clean data
â”œâ”€ Merge & Append queries
â””â”€ Create reusable functions

Day 3-4: Pivot Tables & Charts
â”œâ”€ Dynamic Pivot Tables
â”œâ”€ Calculated Fields
â”œâ”€ Chart Types & Customization
â””â”€ Dashboard design principles

Day 5-7: Advanced Formulas
â”œâ”€ Array Formulas (Ctrl+Shift+Enter)
â”œâ”€ XLOOKUP, FILTER, SORT (Excel 365)
â”œâ”€ Dynamic Named Ranges
â””â”€ Conditional Formatting rules

ğŸ¯ Mini Project: Build a self-updating dashboard
```

Week 3: Version Control & Git
```
Day 1-3: Git Fundamentals
â”œâ”€ Install Git & GitHub Desktop
â”œâ”€ Basic commands (init, add, commit, push, pull)
â”œâ”€ Branch & Merge concepts
â”œâ”€ .gitignore for Excel files
â””â”€ README.md writing

Day 4-5: GitHub Workflow
â”œâ”€ Create repository
â”œâ”€ Issues & Project boards
â”œâ”€ Pull Requests & Code Review
â””â”€ GitHub Actions basics

Day 6-7: Excel + Git Integration
â”œâ”€ Export VBA to .bas files
â”œâ”€ Version control strategy for Excel
â”œâ”€ Diff tools for Excel files
â””â”€ CI/CD concepts for Excel-based projects

ğŸ¯ Mini Project: Migrate SMART4CUSM to GitHub
```
Phase 2: Database & Backend (Weeks 4-6)
Week 4: SQL & Database Design
```
Day 1-2: SQL Basics (PostgreSQL)
â”œâ”€ SELECT, WHERE, ORDER BY, GROUP BY
â”œâ”€ JOINs (INNER, LEFT, RIGHT, FULL)
â”œâ”€ Aggregate functions (COUNT, SUM, AVG)
â””â”€ Subqueries & CTEs

Day 3-4: Database Design
â”œâ”€ Normalization (1NF, 2NF, 3NF)
â”œâ”€ Primary & Foreign Keys
â”œâ”€ Indexes & Performance
â””â”€ Transactions & ACID

Day 5-7: Advanced SQL
â”œâ”€ Window Functions (ROW_NUMBER, RANK, LAG, LEAD)
â”œâ”€ Views & Materialized Views
â”œâ”€ Stored Procedures & Functions
â””â”€ Query optimization

ğŸ¯ Mini Project: Create SMART4CUSM database schema
```
Week 5: Python/TypeScript Basics
```
Day 1-3: Python for Data (Choose this if data-heavy)
â”œâ”€ Variables, Lists, Dictionaries
â”œâ”€ Pandas for data manipulation
â”œâ”€ SQLAlchemy ORM
â””â”€ FastAPI basics

OR

TypeScript Foundations (Choose this if web-focused)
â”œâ”€ Types, Interfaces, Generics
â”œâ”€ Async/Await, Promises
â”œâ”€ Node.js basics
â””â”€ tRPC or Express.js

Day 4-7: API Development
â”œâ”€ RESTful API design
â”œâ”€ CRUD operations
â”œâ”€ Authentication (JWT)
â””â”€ API documentation (Swagger/OpenAPI)

ğŸ¯ Mini Project: Build SWOT Analysis API endpoint
```

Week 6: Prisma ORM & Database Integration
```
Day 1-2: Prisma Setup
â”œâ”€ Install & Initialize
â”œâ”€ Schema definition
â”œâ”€ Migrations
â””â”€ Prisma Studio

Day 3-5: CRUD with Prisma
â”œâ”€ Create operations
â”œâ”€ Read (findMany, findUnique, where, include)
â”œâ”€ Update & Upsert
â”œâ”€ Delete & Soft Delete
â””â”€ Relations & Nested writes

Day 6-7: Advanced Prisma
â”œâ”€ Transactions
â”œâ”€ Raw queries
â”œâ”€ Performance optimization
â””â”€ Seeding data

ğŸ¯ Mini Project: Implement full SWOT CRUD API
```
Phase 3: Frontend Development (Weeks 7-9)
Week 7: React Foundations
```
Day 1-2: React Basics
â”œâ”€ Components & Props
â”œâ”€ State & Hooks (useState, useEffect)
â”œâ”€ Event Handling
â””â”€ Conditional Rendering

Day 3-4: React Advanced
â”œâ”€ Context API & useContext
â”œâ”€ Custom Hooks
â”œâ”€ useCallback, useMemo
â””â”€ Error Boundaries

Day 5-7: Next.js 14
â”œâ”€ App Router
â”œâ”€ Server & Client Components
â”œâ”€ Dynamic Routes
â”œâ”€ API Routes
â””â”€ Server Actions

ğŸ¯ Mini Project: Build Organization Profile form
```
Week 8: UI/UX with Tailwind & shadcn/ui
```
Day 1-2: Tailwind CSS
â”œâ”€ Utility-first concepts
â”œâ”€ Responsive design (sm:, md:, lg:)
â”œâ”€ Dark mode
â””â”€ Custom configurations

Day 3-5: shadcn/ui Components
â”œâ”€ Button, Input, Select
â”œâ”€ Dialog, Sheet, Popover
â”œâ”€ Table, DataTable
â”œâ”€ Form with react-hook-form + zod
â””â”€ Toast notifications

Day 6-7: Complex Layouts
â”œâ”€ Dashboard layouts
â”œâ”€ Sidebar navigation
â”œâ”€ Multi-step forms
â””â”€ Drag-and-drop interfaces

ğŸ¯ Mini Project: SWOT Analysis UI with Delphi rounds
```
Week 9: Data Visualization
```
Day 1-3: Recharts
â”œâ”€ Line, Bar, Area charts
â”œâ”€ Pie, Radar charts
â”œâ”€ Composed charts
â””â”€ Responsive containers

Day 4-5: D3.js Basics
â”œâ”€ SVG fundamentals
â”œâ”€ Scales & Axes
â”œâ”€ Force-directed graphs
â””â”€ Tree & Network diagrams

Day 6-7: Custom Visualizations
â”œâ”€ Strategy Map (custom D3)
â”œâ”€ X-Matrix visualization
â”œâ”€ Gantt Chart
â””â”€ Interactive dashboards

ğŸ¯ Mini Project: Build BSC Dashboard with multiple charts
```
Phase 4: Integration & Deployment (Weeks 10-12)
Week 10: State Management & Real-time Features
```
Day 1-3: Zustand for State
â”œâ”€ Store creation
â”œâ”€ Actions & Selectors
â”œâ”€ Persist middleware
â””â”€ DevTools integration

Day 4-5: Real-time with Supabase (or Socket.io)
â”œâ”€ Real-time subscriptions
â”œâ”€ Presence (who's online)
â”œâ”€ Broadcast messages
â””â”€ Optimistic updates

Day 6-7: Authentication
â”œâ”€ NextAuth.js setup
â”œâ”€ OAuth providers (Google, GitHub)
â”œâ”€ Role-based access control (RBAC)
â””â”€ Protected routes

ğŸ¯ Mini Project: Collaborative OKR editing with real-time updates
```
Week 11: Testing & CI/CD
```
Day 1-2: Unit Testing
â”œâ”€ Jest basics
â”œâ”€ React Testing Library
â”œâ”€ Mock data & API calls
â””â”€ Coverage reports

Day 3-4: E2E Testing
â”œâ”€ Playwright setup
â”œâ”€ User flow tests
â”œâ”€ Visual regression testing
â””â”€ Test automation

Day 5-7: CI/CD Pipeline
â”œâ”€ GitHub Actions workflow
â”œâ”€ Automated testing
â”œâ”€ Build & Deploy to Vercel
â”œâ”€ Database migrations
â””â”€ Environment management

ğŸ¯ Mini Project: Complete CI/CD pipeline for SMART4CUSM
```
Week 12: Production Deployment
```
Day 1-2: Production Readiness
â”œâ”€ Environment variables
â”œâ”€ Error monitoring (Sentry)
â”œâ”€ Performance monitoring (PostHog)
â”œâ”€ SEO & meta tags
â””â”€ Security headers

Day 3-4: Deployment
â”œâ”€ Deploy frontend to Vercel
â”œâ”€ Deploy backend to Railway/Fly.io
â”œâ”€ Database on Supabase/Neon
â”œâ”€ File storage (S3/MinIO)
â””â”€ CDN setup

Day 5-7: Documentation & Handoff
â”œâ”€ API documentation
â”œâ”€ User manual
â”œâ”€ Admin guide
â”œâ”€ Video tutorials
â””â”€ Training materials

ğŸ¯ Final Project: Full SMART4CUSM app deployed to production
```
ğŸš€ Part 3: GitHub Migration Strategy
Repository Structure
```
smart4cusm-platform/
â”‚
â”œâ”€â”€ .github/
â”‚   â”œâ”€â”€ workflows/
â”‚   â”‚   â”œâ”€â”€ ci.yml
â”‚   â”‚   â”œâ”€â”€ deploy-frontend.yml
â”‚   â”‚   â”œâ”€â”€ deploy-backend.yml
â”‚   â”‚   â””â”€â”€ db-migrate.yml
â”‚   â”œâ”€â”€ ISSUE_TEMPLATE/
â”‚   â”‚   â”œâ”€â”€ bug_report.md
â”‚   â”‚   â”œâ”€â”€ feature_request.md
â”‚   â”‚   â””â”€â”€ improvement.md
â”‚   â””â”€â”€ pull_request_template.md
â”‚
â”œâ”€â”€ packages/
â”‚   â”œâ”€â”€ database/
â”‚   â”‚   â”œâ”€â”€ prisma/
â”‚   â”‚   â”‚   â”œâ”€â”€ schema.prisma
â”‚   â”‚   â”‚   â”œâ”€â”€ migrations/
â”‚   â”‚   â”‚   â””â”€â”€ seed.ts
â”‚   â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”‚   â”œâ”€â”€ client.ts
â”‚   â”‚   â”‚   â””â”€â”€ types.ts
â”‚   â”‚   â””â”€â”€ package.json
â”‚   â”‚
â”‚   â”œâ”€â”€ api/
â”‚   â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”‚   â”œâ”€â”€ routes/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ swot.ts
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ bsc.ts
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ okr.ts
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ projects.ts
â”‚   â”‚   â”‚   â”œâ”€â”€ middleware/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ auth.ts
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ validation.ts
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ error-handler.ts
â”‚   â”‚   â”‚   â”œâ”€â”€ services/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ swot.service.ts
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ tows.service.ts
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ calculation.service.ts
â”‚   â”‚   â”‚   â””â”€â”€ server.ts
â”‚   â”‚   â”œâ”€â”€ tests/
â”‚   â”‚   â””â”€â”€ package.json
â”‚   â”‚
â”‚   â”œâ”€â”€ web/
â”‚   â”‚   â”œâ”€â”€ app/
â”‚   â”‚   â”‚   â”œâ”€â”€ (auth)/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ login/
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ register/
â”‚   â”‚   â”‚   â”œâ”€â”€ (dashboard)/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ layout.tsx
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ page.tsx
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ swot/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ tows/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ bsc/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ strategy-map/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ x-matrix/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ logframe/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ projects/
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ okrs/
â”‚   â”‚   â”‚   â””â”€â”€ api/
â”‚   â”‚   â”œâ”€â”€ components/
â”‚   â”‚   â”‚   â”œâ”€â”€ ui/ (shadcn/ui)
â”‚   â”‚   â”‚   â”œâ”€â”€ charts/
â”‚   â”‚   â”‚   â”œâ”€â”€ forms/
â”‚   â”‚   â”‚   â””â”€â”€ layouts/
â”‚   â”‚   â”œâ”€â”€ lib/
â”‚   â”‚   â”‚   â”œâ”€â”€ utils.ts
â”‚   â”‚   â”‚   â”œâ”€â”€ api-client.ts
â”‚   â”‚   â”‚   â””â”€â”€ validations/
â”‚   â”‚   â”œâ”€â”€ hooks/
â”‚   â”‚   â”œâ”€â”€ stores/
â”‚   â”‚   â””â”€â”€ package.json
â”‚   â”‚
â”‚   â””â”€â”€ shared/
â”‚       â”œâ”€â”€ types/
â”‚       â”œâ”€â”€ constants/
â”‚       â””â”€â”€ utils/
â”‚
â”œâ”€â”€ docs/
â”‚   â”œâ”€â”€ api/
â”‚   â”‚   â””â”€â”€ swagger.yaml
â”‚   â”œâ”€â”€ architecture/
â”‚   â”‚   â”œâ”€â”€ data-model.md
â”‚   â”‚   â””â”€â”€ system-design.md
â”‚   â”œâ”€â”€ user-guide/
â”‚   â”‚   â”œâ”€â”€ getting-started.md
â”‚   â”‚   â”œâ”€â”€ swot-analysis.md
â”‚   â”‚   â””â”€â”€ okr-management.md
â”‚   â””â”€â”€ developer/
â”‚       â”œâ”€â”€ setup.md
â”‚       â”œâ”€â”€ contributing.md
â”‚       â””â”€â”€ deployment.md
â”‚
â”œâ”€â”€ legacy/
â”‚   â”œâ”€â”€ excel-files/
â”‚   â”‚   â””â”€â”€ SMART4CUSM6831_original.xlsx
â”‚   â”œâ”€â”€ vba-export/
â”‚   â”‚   â”œâ”€â”€ Module1.bas
â”‚   â”‚   â”œâ”€â”€ Module2.bas
â”‚   â”‚   â””â”€â”€ UserForm1.frm
â”‚   â””â”€â”€ migration-notes.md
â”‚
â”œâ”€â”€ scripts/
â”‚   â”œâ”€â”€ migrate-excel-data.py
â”‚   â”œâ”€â”€ seed-demo-data.ts
â”‚   â””â”€â”€ backup-db.sh
â”‚
â”œâ”€â”€ .env.example
â”œâ”€â”€ .gitignore
â”œâ”€â”€ docker-compose.yml
â”œâ”€â”€ package.json (root - for workspaces)
â”œâ”€â”€ pnpm-workspace.yaml
â”œâ”€â”€ turbo.json (if using Turborepo)
â”œâ”€â”€ README.md
â””â”€â”€ LICENSE
---

---
ğŸ¤– Google AI Studio Prompt Template for SMART NIEMS System
ğŸ“‹ Complete Prompt for Google AI Studio
```markdown
# SMART NIEMS Web Application Development

## Context
You are an expert full-stack developer specializing in strategic planning and performance management systems. I'm building a modern web application called "SMART NIEMS" (Strategic Management Analysis Reporting Tool for National Institute for Emergency Medicine) to replace an Excel-based strategic planning system.

## Attached Files
- SMART4CUSM6831_original.xlsx (legacy Excel system with VBA macros)
- [Optional: 01CUSM6741.pdf - system documentation]

## Your Mission
Analyze the attached Excel file and help me design and develop a comprehensive web application with the following requirements:

---

## Phase 1: System Analysis & Architecture

### Task 1.1: Excel File Analysis
Analyze the attached Excel file and provide:

1. **Data Structure Mapping**
   - List all sheets and their purposes
   - Identify data entities and relationships
   - Map out the navigation flow (Menu 1 â†’ Menu 2)
   - Document all named ranges and their dependencies

2. **Business Logic Extraction**
   - Extract all calculation formulas (SWOT scores, SFAS, BSC calculations)
   - Document VBA macro functionalities
   - Identify workflow processes (Delphi rounds, approvals)
   - List all validation rules

3. **Feature Inventory**
   Create a comprehensive list of features including:
   - Organization profile management
   - SWOT Analysis with Delphi methodology
   - TOWS Matrix generation
   - Balanced Scorecard (4 perspectives)
   - Strategy Map with causal relationships
   - Hoshin Kanri (X-Matrix)
   - Logical Framework Analysis (LFA)
   - Project management with Gantt charts
   - OKR cascading (Organization â†’ Team â†’ Individual)
   - Activity-Based Costing (ABC)

### Task 1.2: Technology Stack Recommendation
Recommend a modern technology stack considering:
- Full TypeScript for type safety
- Next.js 14+ with App Router
- Prisma ORM with PostgreSQL
- tRPC for end-to-end type-safe APIs
- Authentication & authorization
- Real-time collaboration features
- Data visualization libraries (Recharts, D3.js)

Provide pros/cons and architecture diagram (Mermaid format).

---

## Phase 2: Database Design

### Task 2.1: Complete Prisma Schema
Generate a comprehensive Prisma schema that includes:

**Core Domains:**
1. **Organization Context**
   - Organization, Vision, Mission, CoreValues
   
2. **SWOT Analysis**
   - SWOTFactor, DelphiRound, DelphiScore, SWOTAnalyticsSummary
   
3. **Strategic Position**
   - SFASMatrix, CoreCompetency (VRIO), StrategicChallenge
   
4. **Strategic Frameworks**
   - FourActionGrid (BOSS), ValueCurve, POSEAssessment
   
5. **TOWS Strategy**
   - TOWSStrategy, StrategyRationale
   
6. **Balanced Scorecard**
   - BSCPerspective, StrategicObjective, KPI, KPITarget, KPIActual, BSCPerformance
   
7. **Strategy Map**
   - StrategyMapNode, CausalRelationship, ImpactAnalysis
   
8. **Hoshin Kanri**
   - LongTermGoal, AnnualObjective, ImprovementPriority, XMatrixCorrelation
   
9. **Logical Framework**
   - LogframeHierarchy, LogframeElement, IndicatorOVI, MeansOfVerification, Assumption
   
10. **Project Management**
    - Project, WBSElement, Dependency, Milestone, ProjectRisk
    
11. **Activity-Based Costing**
    - ActivityPool, CostDriver, CostAllocation, OverheadCost
    
12. **OKR System**
    - OKRCycle, OKR, KeyResult, OKRUpdate, OKRAlignment, OKRPerformance

**System Management:**
13. **User Management**
    - User, Team, TeamMembership, Permission
    
14. **Audit Trail** (Required Feature)
    - AuditLog, ChangeHistory
    
15. **Document Management**
    - Document, DocumentVersion
    
16. **Workflow & Approval**
    - WorkflowTemplate, ApprovalRequest, ApprovalAction
    
17. **Notification System**
    - NotificationTemplate, Notification
    
18. **Reporting & Analytics**
    - Report, Dashboard, DashboardWidget
    
19. **Integration & API**
    - APIKey, Webhook, IntegrationLog

**Requirements:**
- Use proper Prisma relations (@relation)
- Add appropriate indexes (@@index)
- Include timestamps (createdAt, updatedAt)
- Add soft delete where applicable (deletedAt)
- Use enums for constrained values
- Add unique constraints (@@unique)
- Include cascade rules for deletions

### Task 2.2: Sample Data Seed Script
Create a TypeScript seed script with:
- 1 sample organization (NIEMS)
- 10 SWOT factors (3S, 3W, 2O, 2T)
- 1 complete Delphi round with 5 expert scores
- 5 strategic objectives across BSC perspectives
- 3 KPIs with targets and actuals
- 2 projects with WBS
- 1 OKR cascade (Org â†’ Team â†’ Individual)

---

## Phase 3: Role-Based Access Control (RBAC)

### Task 3.1: Permission System Design
Design a comprehensive RBAC system with these roles:

**Role Definitions:**

1. **Super Admin**
   - Full system access
   - User management
   - System configuration
   - Audit log access
   - Organization CRUD

2. **Organization Admin**
   - Manage organization data
   - Approve strategies
   - View all reports
   - Manage teams
   - Cannot access system settings

3. **Strategic Planner (Manager)**
   - Create/edit SWOT, TOWS, BSC
   - Manage projects
   - Set KPI targets
   - Approve OKRs
   - View analytics

4. **Project Manager**
   - Create/edit projects
   - Manage WBS and tasks
   - Update milestones
   - View project reports
   - Cannot edit strategies

5. **Team Lead (Contributor)**
   - Update KPI actuals
   - Update OKR progress
   - Submit project updates
   - Comment on strategies
   - Cannot delete data

6. **Team Member**
   - Update own OKR progress
   - View assigned tasks
   - Submit activity reports
   - Read-only on strategies

7. **Viewer (Stakeholder)**
   - Read-only access
   - View dashboards
   - Export reports
   - No write permissions

**Permission Matrix:**
Create a detailed permission matrix table covering:
- Domain: Organization, SWOT, TOWS, BSC, Projects, OKRs
- Actions: Create, Read, Update, Delete, Approve, Export
- Resource-level permissions (own vs. team vs. organization)

### Task 3.2: Prisma Schema for RBAC
Extend the User model with:
```
model User {
id            String         @id @default(cuid())
email         String         @unique
role          UserRole
permissions   Permission[]
createdAt     DateTime       @default(now())
updatedAt     DateTime       @updatedAt
}
enum UserRole {
SUPER_ADMIN
ORG_ADMIN
STRATEGIC_PLANNER
PROJECT_MANAGER
TEAM_LEAD
TEAM_MEMBER
VIEWER
}
model Permission {
id              String           @id @default(cuid())
userId          String
user            User             @relation(fields: [userId], references: [id])
resourceType    ResourceType
resourceId      String?          // null = all resources
actions         PermissionAction[]
grantedAt       DateTime         @default(now())
grantedBy       String
expiresAt       DateTime?
}
enum ResourceType {
ORGANIZATION
SWOT_FACTOR
STRATEGY
KPI
PROJECT
OKR
REPORT
}
enum PermissionAction {
CREATE
READ
UPDATE
DELETE
APPROVE
EXPORT
}
```

### Task 3.3: Authorization Middleware
Create Next.js middleware/tRPC procedures for:
1. Route-level protection
2. Resource-level authorization checks
3. Permission verification functions
4. Role hierarchy enforcement

Example:
```
export const requirePermission = (
resourceType: ResourceType,
action: PermissionAction
) => {
return async (ctx: Context) => {
// Check if user has permission
const hasPermission = await checkPermission(
ctx.user.id,
resourceType,
action,
ctx.resourceId
);
    if (!hasPermission) {
      throw new TRPCError({ code: 'FORBIDDEN' });
    }
    };
};
```

---

## Phase 4: Audit Trail & Change History

### Task 4.1: Audit System Design
Design a comprehensive audit trail system that:

**Captures:**
1. **Who**: User ID, username, role
2. **What**: Action (CREATE/UPDATE/DELETE/VIEW)
3. **When**: Timestamp with timezone
4. **Where**: IP address, user agent, endpoint
5. **Why**: Optional reason/comment
6. **Changes**: Old value vs. New value (JSON diff)

**Tracked Entities:**
- Organizations
- SWOT Factors
- Strategies (TOWS)
- Strategic Objectives
- KPIs (targets and actuals)
- Projects
- OKRs
- User permissions
- Approval actions

### Task 4.2: Prisma Schema for Audit Trail
```
model AuditLog {
id            String       @id @default(cuid())
userId        String
user          User         @relation(fields: [userId], references: [id])
action        AuditAction
entityType    String       // "KPI", "Project", "OKR"
entityId      String
entityName    String?      // For display
oldValue      Json?        // Previous state
newValue      Json?        // New state
changes       Json?        // Diff array: [{field, oldVal, newVal}]
reason        String?      // Optional comment
ipAddress     String?
userAgent     String?
sessionId     String?
createdAt     DateTime     @default(now())
@@index([userId, createdAt])
@@index([entityType, entityId])
@@index([action, createdAt])
}
enum AuditAction {
CREATE
UPDATE
DELETE
VIEW_SENSITIVE
EXPORT
APPROVE
REJECT
LOGIN
LOGOUT
}
model ChangeHistory {
id            String       @id @default(cuid())
entityType    String
entityId      String
fieldName     String
oldValue      String?
newValue      String?
changedBy     String
changedByUser User         @relation(fields: [changedBy], references: [id])
changeReason  String?
changedAt     DateTime     @default(now())
version       Int          @default(1)
@@index([entityType, entityId, changedAt])
@@index([changedBy, changedAt])
}
```

### Task 4.3: Audit Middleware Implementation
Create Prisma middleware to automatically capture changes:

```
prisma.$use(async (params, next) => {
const result = await next(params);
// Capture CREATE/UPDATE/DELETE operations
if (['create', 'update', 'delete'].includes(params.action)) {
await captureAuditLog({
action: params.action,
model: params.model,
args: params.args,
result: result,
context: getCurrentContext()
});
}
return result;
});
```

### Task 4.4: Audit Trail UI Components
Generate React components for:
1. Audit log viewer (table with filters)
2. Change history timeline for entities
3. Diff viewer (side-by-side comparison)
4. Activity feed dashboard
5. Export audit logs to Excel/PDF

---

## Phase 5: Core Feature Implementation

### Task 5.1: SWOT Analysis with Delphi Method
Generate complete implementation:

**Backend (tRPC):**
```
// swot.router.ts
export const swotRouter = router({
// List all SWOT factors
list: publicProcedure
.input(z.object({ orgId: z.string() }))
.query(async ({ input, ctx }) => {
// Implementation with audit log
}),
// Create SWOT factor
create: protectedProcedure
.input(SWOTFactorSchema)
.mutation(async ({ input, ctx }) => {
// Check permission
// Create factor
// Log audit trail
}),
// Start Delphi round
startDelphiRound: protectedProcedure
.input(z.object({ orgId: z.string(), roundNumber: z.number() }))
.mutation(async ({ input, ctx }) => {
// Create round
// Send notifications to experts
// Log action
}),
// Submit expert score
submitScore: protectedProcedure
.input(DelphiScoreSchema)
.mutation(async ({ input, ctx }) => {
// Validate expert role
// Save score
// Check if round complete
// Calculate consensus
}),
// Get SFAS summary
getSFAS: publicProcedure
.input(z.object({ orgId: z.string() }))
.query(async ({ input, ctx }) => {
// Calculate weighted scores
// Determine strategic position
// Return SO/ST/WO/WT quadrant
})
});
```

**Frontend (React Component):**
```
// app/(dashboard)/swot/page.tsx
export default function SWOTAnalysisPage() {
// Component with:
// - Factor list with inline editing
// - Delphi round wizard (multi-step form)
// - Score submission interface
// - Real-time consensus indicator
// - SFAS matrix visualization
// - Audit trail sidebar
}
```

### Task 5.2: Balanced Scorecard (BSC)
Generate complete implementation:

**Features:**
- 4 perspectives (Financial, Customer, Internal Process, Learning & Growth)
- Strategic objectives hierarchy
- KPI management with targets/actuals
- Traffic light indicators (ğŸŸ¢ğŸŸ¡ğŸ”´)
- Strategy map with causal links
- Performance dashboard

**Backend:**
```
// bsc.router.ts
export const bscRouter = router({
createObjective: protectedProcedure
.input(ObjectiveSchema)
.mutation(async ({ input, ctx }) => { /* ... */ }),
createKPI: protectedProcedure
.input(KPISchema)
.mutation(async ({ input, ctx }) => { /* ... */ }),
updateKPIActual: protectedProcedure
.input(KPIActualSchema)
.mutation(async ({ input, ctx }) => {
// Check permission (Team Lead+)
// Update actual value
// Calculate achievement %
// Trigger notification if threshold crossed
// Log change history
}),
getPerformanceDashboard: publicProcedure
.input(z.object({ orgId: z.string() }))
.query(async ({ input, ctx }) => {
// Aggregate all KPI achievements
// Calculate perspective scores
// Return traffic light status
})
});
```

**Frontend:**
```
// app/(dashboard)/bsc/page.tsx
// - Perspective tabs
// - Objective cards with KPIs
// - KPI progress bars
// - Quick update modal
// - Performance charts (Recharts)
```

### Task 5.3: OKR Cascading System
Generate complete implementation:

**Features:**
- Organization OKRs â†’ Team OKRs â†’ Individual OKRs
- Alignment visualization (tree view)
- Check-in workflow (weekly/monthly)
- Confidence level tracking
- Grade calculation (0.0 - 1.0)

**Backend:**
```
// okr.router.ts
export const okrRouter = router({
createOKR: protectedProcedure
.input(OKRSchema)
.mutation(async ({ input, ctx }) => {
// Validate cascading rules
// Check if parent OKR exists
// Create OKR
// Create alignment record
}),
updateKeyResult: protectedProcedure
.input(KeyResultUpdateSchema)
.mutation(async ({ input, ctx }) => {
// Check ownership
// Update progress
// Calculate grade
// Trigger parent OKR recalculation
// Send notification to manager
}),
getAlignmentTree: publicProcedure
.input(z.object({ orgId: z.string() }))
.query(async ({ input, ctx }) => {
// Build hierarchical OKR tree
// Include progress and health status
})
});
```

**Frontend:**
```
// app/(dashboard)/okrs/page.tsx
// - OKR tree visualization (D3.js)
// - Create OKR wizard with parent selection
// - Key result progress tracking
// - Check-in modal
// - Alignment map
```

---

## Phase 6: Advanced Features

### Task 6.1: Strategy Map Visualization
Generate D3.js component for:
- Force-directed graph showing objectives
- Causal relationship arrows
- Color-coded by perspective
- Interactive drag-and-drop
- Zoom and pan

### Task 6.2: Project Management with Gantt Chart
Generate implementation:
- WBS tree structure
- Gantt chart with dependencies
- Critical path highlighting
- Milestone markers
- Resource allocation view

### Task 6.3: Real-time Collaboration
Implement using Supabase Realtime:
- Live cursors (who's viewing what)
- Collaborative editing
- Comment threads
- @mentions with notifications

### Task 6.4: Reporting & Export
Generate:
- Executive summary report
- BSC performance report
- Project status report
- OKR progress report
- Export to PDF (react-pdf)
- Export to Excel (exceljs)
---
## Phase 7: Testing & Documentation
### Task 7.1: Test Suite
Generate:
- Unit tests for calculations (Jest)
- API integration tests
- E2E tests for critical flows (Playwright)
- Permission boundary tests
### Task 7.2: Documentation
Generate:
- API documentation (tRPC auto-docs)
- User manual (Markdown)
- Admin guide
- Deployment guide
- Database ER diagram (Mermaid)
---
## Deliverables Checklist
Please provide:
â˜ Complete Prisma schema (prisma/schema.prisma)
â˜ Seed script (prisma/seed.ts)
â˜ All tRPC routers with audit trail integration
â˜ RBAC middleware and permission checks
â˜ React components for all major features
â˜ D3.js visualizations (Strategy Map, OKR Tree)
â˜ Audit log viewer UI
â˜ Change history UI
â˜ Sample test suite
â˜ Deployment instructions
â˜ Architecture diagram (Mermaid)
â˜ API documentation
---
## Output Format
Please structure your response as follows:
1. **Executive Summary**: High-level overview of the system
2. **Architecture Decisions**: Tech stack rationale
3. **Database Schema**: Complete Prisma schema with comments
4. **RBAC Implementation**: Role definitions and middleware
5. **Audit Trail Implementation**: Schema + middleware + UI
6. **Feature Implementation**: Code for each major feature
7. **Deployment Guide**: Step-by-step instructions
8. **Next Steps**: Prioritized implementation roadmap
For each code file, use this format:
```
## Additional Instructions
- Use TypeScript with strict mode
- Follow Next.js 14 App Router conventions
- Use tRPC v11 with proper error handling
- Implement proper loading and error states
- Add proper TypeScript types for all functions
- Include comments for complex logic
- Follow Prisma best practices
- Ensure mobile responsiveness
- Add proper SEO meta tags
- Implement proper caching strategies
---
## Questions for Clarification
Before you start, please clarify:
1. Should we use Supabase or raw PostgreSQL?
2. Do you need multi-tenancy support?
3. What's the expected user scale (10/100/1000+ users)?
4. Do you need offline capability?
5. Any specific compliance requirements (GDPR, etc.)?
---
